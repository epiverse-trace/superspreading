<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Probability that an outbreak will be contained — probability_contain • superspreading</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Probability that an outbreak will be contained — probability_contain"><meta name="description" content="Outbreak containment is defined as outbreak extinction when
simulate = FALSE. When simulate = FALSE, probability_contain() is
equivalent to calling probability_extinct().
When simulate = TRUE, outbreak containment is defined by the
case_threshold (default = 100) and outbreak_time arguments.
Firstly, case_threshold sets the size of the transmission chain below
which the outbreak is considered contained. Secondly, outbreak_time sets
the time duration from the start of the outbreak within which the outbreak
is contained if there is no more onwards transmission beyond this time.
When setting an outbreak_time, a generation_time is also required.
case_threshold and outbreak_time can be jointly set.
Overall, when simulate = TRUE, containment is defined as the size and
time duration of a transmission chain not reaching the case_threshold
and outbreak_time, respectively."><meta property="og:description" content="Outbreak containment is defined as outbreak extinction when
simulate = FALSE. When simulate = FALSE, probability_contain() is
equivalent to calling probability_extinct().
When simulate = TRUE, outbreak containment is defined by the
case_threshold (default = 100) and outbreak_time arguments.
Firstly, case_threshold sets the size of the transmission chain below
which the outbreak is considered contained. Secondly, outbreak_time sets
the time duration from the start of the outbreak within which the outbreak
is contained if there is no more onwards transmission beyond this time.
When setting an outbreak_time, a generation_time is also required.
case_threshold and outbreak_time can be jointly set.
Overall, when simulate = TRUE, containment is defined as the size and
time duration of a transmission chain not reaching the case_threshold
and outbreak_time, respectively."><meta property="og:image" content="https://epiverse-trace.github.io/superspreading/logo.svg"><meta name="robots" content="noindex"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="https://epiverse-trace.github.io/blueprints/logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">superspreading</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/superspreading.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Parameter estimation</h6></li>
    <li><a class="dropdown-item" href="../articles/estimate_individual_level_transmission.html">Estimate individual-level transmission</a></li>
    <li><a class="dropdown-item" href="../articles/heterogeneous_network_outbreaks.html">Outbreaks in heterogeneous networks</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Superspreading for decision-making</h6></li>
    <li><a class="dropdown-item" href="../articles/epidemic_risk.html">Epidemic Risk</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Proportion transmission</h6></li>
    <li><a class="dropdown-item" href="../articles/proportion_transmission.html">Methods for calculating the proportion of transmission</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Pathogen evolution and emergence</h6></li>
    <li><a class="dropdown-item" href="../articles/emergence.html">Pathogen evolution in the emergence of infectious disease outbreaks</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer Documentation</h6></li>
    <li><a class="dropdown-item" href="../articles/design-principles.html">Design Principles for {superspreading}</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiverse-trace/superspreading/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Probability that an outbreak will be contained</h1>
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/superspreading/blob/main/R/probability_contain.R" class="external-link"><code>R/probability_contain.R</code></a></small>
      <div class="d-none name"><code>probability_contain.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Outbreak containment is defined as outbreak extinction when
<code>simulate = FALSE</code>. When <code>simulate = FALSE</code>, <code>probability_contain()</code> is
equivalent to calling <code><a href="probability_extinct.html">probability_extinct()</a></code>.</p>
<p>When <code>simulate = TRUE</code>, outbreak containment is defined by the
<code>case_threshold</code> (default = 100) and <code>outbreak_time</code> arguments.
Firstly, <code>case_threshold</code> sets the size of the transmission chain below
which the outbreak is considered contained. Secondly, <code>outbreak_time</code> sets
the time duration from the start of the outbreak within which the outbreak
is contained if there is no more onwards transmission beyond this time.
When setting an <code>outbreak_time</code>, a <code>generation_time</code> is also required.
<code>case_threshold</code> and <code>outbreak_time</code> can be jointly set.
Overall, when <code>simulate = TRUE</code>, containment is defined as the size and
time duration of a transmission chain not reaching the <code>case_threshold</code>
and <code>outbreak_time</code>, respectively.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">probability_contain</span><span class="op">(</span></span>
<span>  <span class="va">R</span>,</span>
<span>  <span class="va">k</span>,</span>
<span>  <span class="va">num_init_infect</span>,</span>
<span>  ind_control <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  pop_control <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  simulate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  case_threshold <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  outbreak_time <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  generation_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">offspring_dist</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-r">R<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>A <code>number</code> specifying the R parameter (i.e. average secondary cases
per infectious individual).</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>A <code>number</code> specifying the  k parameter (i.e. overdispersion in
offspring distribution from fitted negative binomial).</p></dd>


<dt id="arg-num-init-infect">num_init_infect<a class="anchor" aria-label="anchor" href="#arg-num-init-infect"></a></dt>
<dd><p>An <code>integer</code> (or at least
<a href="https://rlang.r-lib.org/reference/is_integerish.html" class="external-link">"integerish"</a> if
stored as double) specifying the number of initial infections.</p></dd>


<dt id="arg-ind-control">ind_control<a class="anchor" aria-label="anchor" href="#arg-ind-control"></a></dt>
<dd><p>A <code>numeric</code> specifying the strength of individual-level
control measures. These control measures assume that infected individuals
do not produce any secondary infections with probability <code>ind_control</code>,
thus increasing the proportion of cases that do not create any subsequent
infections. The control measure is between <code>0</code> (default) and <code>1</code> (maximum).</p></dd>


<dt id="arg-pop-control">pop_control<a class="anchor" aria-label="anchor" href="#arg-pop-control"></a></dt>
<dd><p>A <code>numeric</code> specifying the strength of population-level
control measures that reduce the transmissibility of all cases by a
constant factor. Between <code>0</code> (default) and <code>1</code> (maximum).</p></dd>


<dt id="arg-simulate">simulate<a class="anchor" aria-label="anchor" href="#arg-simulate"></a></dt>
<dd><p>A <code>logical</code> boolean determining whether the probability
of containment is calculated analytically or numerically using a stochastic
branching process model. Default is <code>FALSE</code> which calls
<code><a href="probability_extinct.html">probability_extinct()</a></code>, setting to <code>TRUE</code> uses a branching process and
enables setting the <code>case_threshold</code>, <code>outbreak_time</code> and <code>generation_time</code>
arguments.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>&lt;<code><a href="https://rlang.r-lib.org/reference/dyn-dots.html" class="external-link">dynamic-dots</a></code>&gt; Named elements to replace
default arguments in <code><a href="dot-chain_sim.html">.chain_sim()</a></code>. See details.</p></dd>


<dt id="arg-case-threshold">case_threshold<a class="anchor" aria-label="anchor" href="#arg-case-threshold"></a></dt>
<dd><p>A number for the threshold of the number of cases below
which the epidemic is considered contained. <code>case_threshold</code> is only used
when <code>simulate = TRUE</code>.</p></dd>


<dt id="arg-outbreak-time">outbreak_time<a class="anchor" aria-label="anchor" href="#arg-outbreak-time"></a></dt>
<dd><p>A number for the time since the start of
the outbreak to determine if outbreaks are contained within a given period
of time. <code>outbreak_time</code> is only used when <code>simulate = TRUE</code>.</p></dd>


<dt id="arg-generation-time">generation_time<a class="anchor" aria-label="anchor" href="#arg-generation-time"></a></dt>
<dd><p>A <code>function</code> to generate generation times. The
function must have a single argument and return a <code>numeric</code> vector with
generation times. See details for example. The <code>function</code> can be defined or
anonymous. <code>generation_time</code> is only used when <code>simulate = TRUE</code>.</p></dd>


<dt id="arg-offspring-dist">offspring_dist<a class="anchor" aria-label="anchor" href="#arg-offspring-dist"></a></dt>
<dd><p>An <code>&lt;epiparameter&gt;</code> object. An S3 class for working
with epidemiological parameters/distributions, see
<code><a href="https://epiverse-trace.github.io/epiparameter/reference/epiparameter.html" class="external-link">epiparameter::epiparameter()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>number</code> for the probability of containment.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When using <code>simulate = TRUE</code>, the default arguments to simulate the
transmission chains with <code><a href="dot-chain_sim.html">.chain_sim()</a></code> are 10<sup>5</sup> replicates,
a negative binomial (<code>nbinom</code>) offspring distribution, parameterised with
<code>R</code> (and <code>pop_control</code> if &gt; 0) and <code>k</code>.</p>
<p>When setting the <code>outbreak_time</code> argument, the <code>generation_time</code> argument is
also required. The <code>generation_time</code> argument requires a random number
generator function. For example, if we assume the generation time is
lognormally distributed with <code>meanlog = 1</code> and <code>sdlog = 1.5</code>, then we can
define the <code>function</code> to pass to <code>generation_time</code> as:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span><span class="va">x</span>, meanlog <span class="op">=</span> <span class="fl">1</span>, sdlog <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Lloyd-Smith, J. O., Schreiber, S. J., Kopp, P. E., &amp; Getz, W. M. (2005)
Superspreading and the effect of individual variation on disease emergence.
Nature, 438(7066), 355-359. <a href="https://doi.org/10.1038/nature04153" class="external-link">doi:10.1038/nature04153</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="probability_extinct.html">probability_extinct()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># population-level control measures</span></span></span>
<span class="r-in"><span><span class="fu">probability_contain</span><span class="op">(</span>R <span class="op">=</span> <span class="fl">1.5</span>, k <span class="op">=</span> <span class="fl">0.5</span>, num_init_infect <span class="op">=</span> <span class="fl">1</span>, pop_control <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8213172</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># individual-level control measures</span></span></span>
<span class="r-in"><span><span class="fu">probability_contain</span><span class="op">(</span>R <span class="op">=</span> <span class="fl">1.5</span>, k <span class="op">=</span> <span class="fl">0.5</span>, num_init_infect <span class="op">=</span> <span class="fl">1</span>, ind_control <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8391855</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># both levels of control measures</span></span></span>
<span class="r-in"><span><span class="fu">probability_contain</span><span class="op">(</span></span></span>
<span class="r-in"><span>  R <span class="op">=</span> <span class="fl">1.5</span>,</span></span>
<span class="r-in"><span>  k <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  num_init_infect <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  ind_control <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>  pop_control <span class="op">=</span> <span class="fl">0.1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8915076</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multi initial infections with population-level control measures</span></span></span>
<span class="r-in"><span><span class="fu">probability_contain</span><span class="op">(</span>R <span class="op">=</span> <span class="fl">1.5</span>, k <span class="op">=</span> <span class="fl">0.5</span>, num_init_infect <span class="op">=</span> <span class="fl">5</span>, pop_control <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3737271</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># probability of containment within a certain amount of time</span></span></span>
<span class="r-in"><span><span class="co"># this requires parameterising a generation time</span></span></span>
<span class="r-in"><span><span class="va">gt</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">rlnorm</a></span><span class="op">(</span><span class="va">n</span>, meanlog <span class="op">=</span> <span class="fl">1</span>, sdlog <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="fu">probability_contain</span><span class="op">(</span></span></span>
<span class="r-in"><span>  R <span class="op">=</span> <span class="fl">1.2</span>,</span></span>
<span class="r-in"><span>  k <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  num_init_infect <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  simulate <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  case_threshold <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  outbreak_time <span class="op">=</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>  generation_time <span class="op">=</span> <span class="va">gt</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.73942</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua W. Lambert, Adam Kucharski, Dillon C. Adam.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3. Theme provided by <a href="https://github.com/epiverse-trace/epiversetheme" class="external-link">epiversetheme</a> 0.1.0.</p>
</div>

    </footer></div>





  </body></html>

